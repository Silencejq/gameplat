
<html>

	<head>
		<meta charset="UTF-8">
		<title>会员列表-WeAdmin Frame型后台管理系统-WeAdmin 1.0</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<link rel="stylesheet" href="../../static/css/font.css">
		<link rel="stylesheet" href="../../static/css/weadmin.css">
		<!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
		<!--[if lt IE 9]>
	      <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
	      <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
	    <![endif]-->
	</head>

	<body>

			
		</div>
		<div class="layui-tab-item layui-show">
			<blockquote class="layui-elem-quote font16">
		<div class="demoTable">
		  搜索ID：
		  <div class="layui-inline">
		    <input class="layui-input" name="id" id="demoReload" autocomplete="off">
		  </div>
			<button class="layui-btn" data-type="reload">搜索</button>
		  <!-- <button  onclick="search()">搜索</button> -->
			
		</div>
		</blockquote>
		<table class="layui-hide" id="demo" lay-filter="test"></table>
		 
		<script type="text/html" id="barDemo">
		  <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
		  <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
		  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
		</script>
									
		
		

		
									<div class="layui-btn-group">
										<button id="tj" class="layui-btn layui-btn-primary layui-btn-sm">
											<i class="layui-icon">&#xe654;添加</i>
										</button>
										<button id="bj" class="layui-btn layui-btn-primary layui-btn-sm">
											<i class="layui-icon">&#xe642;编辑</i>
										</button>
										<button id="sc" class="layui-btn layui-btn-primary layui-btn-sm">
											<i class="layui-icon">&#xe640;删除</i>
										</button>
									</div>
		
									<button id="sx" class="layui-btn layui-btn-sm layui-btn-primary">
										<i class="layui-icon">&#x1002;刷新</i>
									</button>
									<div id="" style="margin: 50px 0px;">
										<form id="tjbd" style="display: none;" class="layui-form" action="/jiadian/showuser/add">
											<div id="scbd" class="layui-form-item">
												<label class="layui-form-label">用户id</label>
												<div class="layui-input-block">
													<input type="text" name="id"  placeholder="请输入用户id" autocomplete="off"
													 class="layui-input">
												</div>
											</div>
											<div class="layui-form-item">
												<label class="layui-form-label">用户名</label>
												<div class="layui-input-block">
													<input type="text" name="name"  placeholder="请输入用户名" autocomplete="off" class="layui-input">
												</div>
											</div>
		
											<!-- <div class="layui-form-item">
												<label class="layui-form-label">职业</label>
												<div class="layui-input-block">
													<select name="city"  lay-search>
														<option value=""></option>
														<option value="010">作家</option>
														<option value="021">商人</option> 
														 <option value="0571" selected></option> 
														 ……
													</select>
												</div>
											</div> -->
		
											<div class="layui-form-item">
												<label class="layui-form-label">住址</label>
												<div class="layui-input-block">
													<input type="text" name="home"  placeholder="请输入住址" autocomplete="off" class="layui-input">
												</div>
											</div>
											<!-- <div style="margin: 20px 0px;">
												<div class="layui-inline">
													<label class="layui-form-label">积分</label>
													<div class="layui-input-inline">
														<input type="text" name="title"  placeholder="请输入数字" autocomplete="off" class="layui-input">
													</div>
												</div>
												<div class="layui-inline">
													<label class="layui-form-label">评分</label>
													<div class="layui-input-inline">
														<input type="text" name="title"  placeholder="请输入数字" autocomplete="off" class="layui-input">
													</div>
												</div>
												<div class="layui-inline">
													<label class="layui-form-label">财富</label>
													<div class="layui-input-inline">
														<input type="text" name="title"  placeholder="请输入数字" autocomplete="off" class="layui-input">
													</div>
												</div>
											</div>-->
											 <div class="layui-form-item">
												<label class="layui-form-label">vip</label>
												<div class="layui-input-block">
													<input type="checkbox" name="vip" lay-skin="switch" value="1">
												</div>
											</div>
		                  <!--
											<div class="layui-form-item">
												<label class="layui-form-label">性别</label>
												<div class="layui-input-block">
													<input type="radio" name="sex" value="男" title="男">
													<input type="radio" name="sex" value="女" title="女" checked>
												</div>
											</div>
		
											<div class="layui-form-item layui-form-text">
												<label class="layui-form-label">备注</label>
												<div class="layui-input-block">
													<textarea name="desc" placeholder="请输入内容" class="layui-textarea"></textarea>
												</div>
											</div> -->
											<div id="tjp" class="layui-form-item">
												<div class="layui-input-block">
													<button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
													<button type="reset" class="layui-btn layui-btn-primary">重置</button>
												</div>
											</div>
										</form>
		
									</div>
								</div>
		<!--<script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>-->
		<script src="../../lib/layui/layui.js" charset="utf-8"></script>
		<script src="../../static/js/eleDel.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../lib/layui/layui.js"></script>
		
		
		<script type="text/javascript">
			function search()
			  {
					
					table.render({
		    elem: '#demo'
		    ,height: 420
		    ,url: '/jiadian/showuser/search?id=CT0200002' //数据接口
		    ,title: '用户表'
		    ,page: true //开启分页
		    ,toolbar: 'default' //开启工具栏，此处显示默认图标，可以自定义模板，详见文档
		    ,totalRow: true //开启合计行
		    ,cols: [[ //表头
		      {type: 'checkbox', fixed: 'left'}
		      ,{field: 'id', title: 'ID', width:80, sort: true, fixed: 'left', totalRowText: '合计：'}
		      ,{field: 'username', title: '用户名', width:80}
		      ,{field: 'experience', title: '积分', width: 90, sort: true, totalRow: true}
		      ,{field: 'sex', title: '性别', width:80, sort: true}
		      ,{field: 'score', title: '评分', width: 80, sort: true, totalRow: true}
		      ,{field: 'city', title: '城市', width:150} 
		      ,{field: 'sign', title: '签名', width: 200}
		      ,{field: 'classify', title: '职业', width: 100}
		      ,{field: 'wealth', title: '财富', width: 135, sort: true, totalRow: true}
		      ,{fixed: 'right', width: 165, align:'center', toolbar: '#barDemo'}
		    ]]
		  });
				
		
		}
		</script>
		
		
		<script>
		layui.config({
		  version: '1545041465480' //为了更新 js 缓存，可忽略
		});
		 
		layui.use(['laydate', 'laypage', 'layer', 'table', 'carousel', 'upload', 'element', 'slider'], function(){
		  var laydate = layui.laydate //日期
		  ,laypage = layui.laypage //分页
		  ,layer = layui.layer //弹层
		  ,table = layui.table //表格
		  ,carousel = layui.carousel //轮播
		  ,upload = layui.upload //上传
		  ,element = layui.element //元素操作
		  ,slider = layui.slider //滑块
		  
		  //向世界问个好
		  layer.msg('Hello World');
		  
		  //监听Tab切换
		  element.on('tab(demo)', function(data){
		    layer.tips('切换了 '+ data.index +'：'+ this.innerHTML, this, {
		      tips: 1
		    });
		  });
		  var $ = layui.$, active = {
		  reload: function(){
		  	var demoReload = $('#demoReload');
				
		  	//执行重载
		  	table.reload('demo', {
		  	page: {
		  		curr: 1 //重新从第 1 页开始
		  	}
		  	,where: {
		  		key: {
		  		id: demoReload.val()
		  		}
		  	}
		  	});
		  }
			};

			
		  
		  $('.demoTable .layui-btn').on('click', function(){
		  var type = $(this).data('type');
		  active[type] ? active[type].call(this) : '';
			alert("1000");
		  });
			//执行一个 table 实例"
		  table.render({
		    elem: '#demo'
		    ,height: 420
		    ,url: '/jiadian/showuser/show' //数据接口
		    ,title: '用户表'
		    ,page: true //开启分页
		    ,toolbar: 'default' //开启工具栏，此处显示默认图标，可以自定义模板，详见文档
		    ,totalRow: true //开启合计行
		    ,cols: [[ //表头
		      {type: 'checkbox', fixed: 'left'}
		      ,{field: 'id', title: 'ID', width:80, sort: true, fixed: 'left', totalRowText: '合计：'}
		      ,{field: 'username', title: '用户名', width:80}
		      ,{field: 'experience', title: '积分', width: 90, sort: true, totalRow: true}
		      ,{field: 'sex', title: '性别', width:80, sort: true}
		      ,{field: 'score', title: '评分', width: 80, sort: true, totalRow: true}
		      ,{field: 'city', title: '城市', width:150} 
		      ,{field: 'sign', title: '签名', width: 200}
		      ,{field: 'classify', title: '职业', width: 100}
		      ,{field: 'wealth', title: '财富', width: 135, sort: true, totalRow: true}
		      ,{fixed: 'right', width: 165, align:'center', toolbar: '#barDemo'}
		    ]]
		  });
		  
		  //监听头工具栏事件
		  table.on('toolbar(test)', function(obj){
		    var checkStatus = table.checkStatus(obj.config.id)
		    ,data = checkStatus.data; //获取选中的数据
		    switch(obj.event){
		      case 'add':
		        layer.msg('添加');
		      break;
		      case 'update':
		        if(data.length === 0){
		          layer.msg('请选择一行');
		        } else if(data.length > 1){
		          layer.msg('只能同时编辑一个');
		        } else {
		          layer.alert('编辑 [id]：'+ checkStatus.data[0].id);
		        }
		      break;
		      case 'delete':
		        if(data.length === 0){
		          layer.msg('请选择一行');
		        } else {
		          layer.msg('删除');
		        }
		      break;
		    };
		  });
		  
		  //监听行工具事件
		  table.on('tool(test)', function(obj){ //注：tool 是工具条事件名，test 是 table 原始容器的属性 lay-filter="对应的值"
		    var data = obj.data //获得当前行数据
		    ,layEvent = obj.event; //获得 lay-event 对应的值
		    if(layEvent === 'detail'){
		      layer.msg('查看操作');
		    } else if(layEvent === 'del'){
		      layer.confirm('真的删除行么', function(index){
		        obj.del(); //删除对应行（tr）的DOM结构
		        layer.close(index);
		        //向服务端发送删除指令
		      });
		    } else if(layEvent === 'edit'){
		      layer.msg('编辑操作');
		    }
		  });
		  
		 
		//   //将日期直接嵌套在指定容器中
		//   var dateIns = laydate.render({
		//     elem: '#laydateDemo'
		//     ,position: 'static'
		//     ,calendar: true //是否开启公历重要节日
		//     ,mark: { //标记重要日子
		//       '2019-01-14': '生日'
		//       ,'2018-08-28': '新版'
		//       ,'2018-10-08': '神秘'
		//     } 
		//     ,done: function(value, date, endDate){
		//       if(date.year == 2018 && date.month == 12 && date.date == 31){
		//         dateIns.hint('一不小心就月底了呢');
		//       }
		//     }
		//     ,change: function(value, date, endDate){
		//       layer.msg(value)
		//     }
		//   });
		  
		 
		 
		  
		 
		});
		</script>

			</script>
			<script type="text/javascript">
				$(document).ready(function() {
					//根据localstorage的值隐藏li
					var storage = window.localStorage;
					var getName = storage["Name"];
					if (getName == "1") {
		
						$("#theone").hide();
		
					};
		
					$("#sx").click(function() {
						window.location.reload();
					});
					$("#tj").click(function() {
						$("#tjbd").show();
						$("#scbd").siblings("div").show();
						$("#scbd").hide().removeAttr("lay-verify").siblings("div").find("input").attr("lay-verify","required");
					});
					$("#bj").click(function() {
						$("#tjbd").show();
						$("#scbd").siblings("div").show();
						$("#scbd").show().find("input").attr("lay-verify","required");
					});
					$("#sc").click(function() {
						$("#tjbd").show();
						$("#scbd").show().find("input").attr("lay-verify","required");
						$("#scbd").siblings("div").hide();
						$("#tjp").show();
					});
					$("form").submit(function(e){
						alert("Submitted");
						
					});
				});
			</script>
	</body>

</html>